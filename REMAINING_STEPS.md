# โ ุงูุฎุทูุงุช ุงููุชุจููุฉ - ุจุนุฏ ุชุญุฏูุซ JWT_SECRET

## ๐ **ูุง ุชู ุฅูุฌุงุฒู:**
โ ุชู ุชูููุฏ JWT_SECRET ุฌุฏูุฏ  
โ ุชู ุชุญุฏูุซู ูู Vercel  
โ ุชู Redeploy ุงููููุน  

---

## ๐ **ุงูุฎุทูุงุช ุงููุชุจููุฉ (ุจุงูุชุฑุชูุจ):**

### **ุงูุฎุทูุฉ 2: ุชุญุฏูุซ Supabase Service Role Key** โ๏ธ **ููู**

#### **ุงูุทุฑููุฉ ุงูููุตู ุจูุง (ูู JWT Settings):**

1. **ุงุฐูุจ ุฅูู Supabase:**
   - ุงูุชุญ: https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงูุชุญ JWT Settings:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ: **Settings** โ **JWT Keys** (NEW)
   - ุฃู: **Settings** โ **API** โ ุงุจุญุซ ุนู "JWT Settings"

3. **ุฅุนุงุฏุฉ ุชุนููู JWT Secret:**
   - ูู ุตูุญุฉ "Legacy JWT Secret"
   - ุงุถุบุท ุนูู ุฒุฑ **"Change legacy JWT secret"** (ูู ุงูุฃุณูู)
   - โ๏ธ **ุชุญุฐูุฑ**: ุณูุชู ุฅุนุงุฏุฉ ุชุนููู **ุฌููุน** ุงูููุงุชูุญ:
     - `anon` key (ูู NEXT_PUBLIC_SUPABASE_ANON_KEY)
     - `service_role` key (ูู SUPABASE_SERVICE_ROLE_KEY)

4. **ุงูุณุฎ ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ ููุฑุงู:**
   - ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุนูููุ ุณุชุธูุฑ ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ
   - **ุงูุณุฎูุง ููุฑุงู** (ูู ุชุธูุฑ ูุฑุฉ ุฃุฎุฑู!)
   - ุงูููุชุงุญ ุงูุฃูู: `anon` key
   - ุงูููุชุงุญ ุงูุซุงูู: `service_role` key

5. **ุชุญุฏูุซ ูู Vercel:**
   - ุงุฐูุจ ุฅูู Vercel โ Settings โ Environment Variables
   - ุญุฏูุซ **`NEXT_PUBLIC_SUPABASE_ANON_KEY`** ุจุงููููุฉ ุงูุฌุฏูุฏุฉ (anon key)
   - ุญุฏูุซ **`SUPABASE_SERVICE_ROLE_KEY`** ุจุงููููุฉ ุงูุฌุฏูุฏุฉ (service_role key)
   - Save

6. **Redeploy:**
   - Vercel โ Deployments โ ุขุฎุฑ deployment โ Redeploy

---

### **ุงูุฎุทูุฉ 3: ุชุญุฏูุซ Gmail App Password** โ๏ธ **ููู**

1. **ุงุฐูุจ ุฅูู Google App Passwords:**
   - ุงูุชุญ: https://myaccount.google.com/apppasswords
   - ุณุฌู ุฏุฎูู ุจุญุณุงุจ Gmail ุงูุฎุงุต ุจู

2. **ุฅูุดุงุก App Password ุฌุฏูุฏ:**
   - ุงุฎุชุฑ **"Mail"** ูู ุงููุงุฆูุฉ ุงูุฃููู
   - ุงุฎุชุฑ **"Other (Custom name)"** ูู ุงููุงุฆูุฉ ุงูุซุงููุฉ
   - ุงูุชุจ ุงุณู: `Cyber TMSAH Platform`
   - ุงุถุบุท **"Generate"**

3. **ุงูุณุฎ ูููุฉ ุงููุฑูุฑ:**
   - ุณุชุธูุฑ ูููุฉ ูุฑูุฑ ููููุฉ ูู 16 ุญุฑู (ุจุฏูู ูุณุงูุงุช)
   - ูุซุงู: `abcd efgh ijkl mnop` โ ุงูุณุฎูุง ูู `abcdefghijklmnop`
   - โ๏ธ **ููู**: ุงูุณุฎูุง ููุฑุงู (ูู ุชุธูุฑ ูุฑุฉ ุฃุฎุฑู!)

4. **ุชุญุฏูุซ ูู Vercel:**
   - Vercel โ Settings โ Environment Variables
   - ุงุจุญุซ ุนู **`GMAIL_APP_PASSWORD`**
   - Edit โ ุงุณุชุจุฏู ุงููููุฉ ุงููุฏููุฉ ุจุงููููุฉ ุงูุฌุฏูุฏุฉ
   - Save

5. **Redeploy:**
   - Vercel โ Deployments โ ุขุฎุฑ deployment โ Redeploy

---

### **ุงูุฎุทูุฉ 4: ุชูุนูู 2FA ุนูู Vercel** ๐ **ููู ุฌุฏุงู**

1. **ุงุฐูุจ ุฅูู Vercel Security:**
   - ุงูุชุญ: https://vercel.com/account/security
   - ุณุฌู ุฏุฎูู ุจุญุณุงุจู

2. **ุชูุนูู 2FA:**
   - ุงุจุญุซ ุนู **"Two-Factor Authentication"**
   - ุงุถุบุท **"Enable"**

3. **ุงุณุชุฎุฏุงู ุชุทุจูู Authenticator:**
   - ุญููู ุชุทุจูู **Google Authenticator** ุฃู **Microsoft Authenticator** ุนูู ูุงุชูู
   - ูู Vercelุ ุงูุณุญ **QR Code** ุจุงููุงููุฑุง
   - ุฃุฏุฎู ุงูููุฏ ุงูุฐู ูุธูุฑ ูู ุงูุชุทุจูู

4. **ุญูุธ Recovery Codes:**
   - Vercel ุณูุนุทูู **Recovery Codes**
   - โ๏ธ **ููู ุฌุฏุงู**: ุงุญูุธูุง ูู ููุงู ุขูู (ูุซู ููู ูุตู ูุดูุฑ)
   - ูุฐู ุงูุฃููุงุฏ ุชุณุชุฎุฏููุง ุฅุฐุง ููุฏุช ูุงุชูู

---

### **ุงูุฎุทูุฉ 5: ุชูุนูู 2FA ุนูู Supabase** ๐ **ููู ุฌุฏุงู**

1. **ุงุฐูุจ ุฅูู Supabase Security:**
   - ุงูุชุญ: https://supabase.com/dashboard/account/security
   - ุณุฌู ุฏุฎูู ุจุญุณุงุจู

2. **ุชูุนูู 2FA:**
   - ููุณ ุงูุฎุทูุงุช ุงูุณุงุจูุฉ
   - ุงุณุชุฎุฏู ููุณ ุชุทุจูู Authenticator
   - ุงุญูุธ Recovery Codes

---

## โ **ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ:**

### **ุงูุฃูุงู:**
- [x] โ JWT_SECRET ูุญุฏุซ
- [ ] โณ Supabase keys ูุญุฏุซุฉ
- [ ] โณ Gmail password ูุญุฏุซ
- [ ] โณ 2FA ููุนู ุนูู Vercel
- [ ] โณ 2FA ููุนู ุนูู Supabase

### **ุงูุชุญูู ูู ุงูุนูู:**
- [ ] โณ ุชุณุฌูู ุงูุฏุฎูู ูุนูู
- [ ] โณ ููุญุฉ ุงูุฃุฏูู ุชุนูู
- [ ] โณ ุฑูุน ุงูุทูุงุจ ูุนูู
- [ ] โณ ูุดุฑ ุงููุญุชูู ูุนูู

---

## ๐ฏ **ุงูุฎุทูุฉ ุงูุชุงููุฉ ุงูุขู:**

**ุงุจุฏุฃ ุจุงูุฎุทูุฉ 2: ุชุญุฏูุซ Supabase Service Role Key**

1. ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
2. Settings โ JWT Keys
3. ุงุถุบุท "Change legacy JWT secret"
4. ุงูุณุฎ ุงูููุงุชูุญ ุงูุฌุฏูุฏุฉ
5. ุญุฏูุซูุง ูู Vercel

---

## ๐ **ุฅุฐุง ูุงุฌูุช ูุดููุฉ:**

### ุงููุดููุฉ: "Cannot find JWT Keys in Supabase"
**ุงูุญู**: 
- ุฌุฑุจ: Settings โ API โ ุงุจุญุซ ุนู "JWT Settings"
- ุฃู: Settings โ General โ ุงุจุญุซ ุนู "JWT Secret"

### ุงููุดููุฉ: "Supabase keys not working after update"
**ุงูุญู**:
- ุชุฃูุฏ ูู ุฃูู ูุณุฎุช ุงูููุงุชูุญ ุจุดูู ุตุญูุญ
- ุชุญูู ูู ุฃูู ุญุฏูุซุช **ููุง** ุงูููุชุงุญูู (anon + service_role)
- ุชุฃูุฏ ูู Redeploy

---

## ๐ **ููุงุญุธุงุช ูููุฉ:**

1. **ุจุนุฏ ุชุญุฏูุซ Supabase keys:**
   - ุฌููุน ุงููุณุชุฎุฏููู ุงููุณุฌููู ุณูุญุชุงุฌูู ุชุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
   - ูุฐุง ุทุจูุนู ูุขูู

2. **ุจุนุฏ ุชุญุฏูุซ Gmail password:**
   - ุงูุฅุดุนุงุฑุงุช ุงูุฅูููููุฉ ุณุชุนูู ุจุดูู ุทุจูุนู
   - ูุง ููุฌุฏ ุชุฃุซูุฑ ุนูู ุงููุณุชุฎุฏููู

3. **ุจุนุฏ ุชูุนูู 2FA:**
   - ุณุชุญุชุงุฌ ููุฏ ูู ุงูุชุทุจูู ูู ูู ูุฑุฉ ุชุณุฌู ูููุง ุฏุฎูู
   - ูุฐุง ูุฒูุฏ ุงูุฃูุงู ุจุดูู ูุจูุฑ

---

**ุงูุฎุทูุฉ ุงูุชุงููุฉ**: ุงุฐูุจ ุฅูู Supabase ูุงุจุฏุฃ ุจุชุญุฏูุซ ุงูููุงุชูุญ! ๐

