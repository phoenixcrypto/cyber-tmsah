# Strapi CMS Migration Guide

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ุฑุจุท ุงููุดุฑูุน ุจู Strapi CMS ูุงูุงูุชูุงู ูู ุงููุธุงู ุงูุญุงูู.

## ๐ ูุญุชููุงุช ุงูุฏููู

- [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
- [ุฅุนุฏุงุฏ Strapi](#ุฅุนุฏุงุฏ-strapi)
- [ุฑุจุท ุงููุดุฑูุน ุจู Strapi](#ุฑุจุท-ุงููุดุฑูุน-ุจู-strapi)
- [ุงูุชุดุบูู ูุน ุงูุญู ุงูุจุฏูู](#ุงูุชุดุบูู-ูุน-ุงูุญู-ุงูุจุฏูู)
- [ุงููุฌุฑุฉ ุงูุชุฏุฑูุฌูุฉ](#ุงููุฌุฑุฉ-ุงูุชุฏุฑูุฌูุฉ)

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุงููุดุฑูุน ูุฏุนู ุงูุขู ูุธุงููู ููุตุฏุฑ ุงูุจูุงูุงุช:

1. **ุงููุธุงู ุงูุญุงูู**: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ (`lib/articleDatabase.ts`)
2. **Strapi CMS**: ูุธุงู ุฅุฏุงุฑุฉ ูุญุชูู ุงุญุชุฑุงูู (ุงุฎุชูุงุฑู)

ูููู ูููุดุฑูุน ุฃู ูุนูู ูุน ููุง ุงููุธุงููู ุฃู ุฃู ููููุง.

## ๐ ุฅุนุฏุงุฏ Strapi

### 1. ุชุซุจูุช Strapi

```bash
# ุฅูุดุงุก ูุดุฑูุน Strapi ุฌุฏูุฏ
npx create-strapi-app cyber-tmsah-cms --quickstart

# ุฃู ุงุณุชุฎุฏุงู ุฅุตุฏุงุฑ Node.js
npx create-strapi-app cyber-tmsah-cms --quickstart --use-npm
```

### 2. ุฅูุดุงุก ุงููุฌููุนุงุช (Collections)

ูู ููุญุฉ ุชุญูู Strapiุ ุฃูุดุฆ ุงููุฌููุนุงุช ุงูุชุงููุฉ:

#### **Material (ุงููุงุฏุฉ)**

- `name` (Text) - ุงุณู ุงููุงุฏุฉ
- `slug` (UID based on name) - ุงููุนุฑู ุงููุฑูุฏ
- `description` (Text) - ุงููุตู
- `instructor` (Text) - ุงุณู ุงููุญุงุถุฑ
- `icon` (Text) - ุงุณู ุงูุฃููููุฉ

#### **Article (ุงููุญุงุถุฑุฉ)**

- `title` (Text) - ุนููุงู ุงููุญุงุถุฑุฉ
- `slug` (UID based on title) - ุงููุนุฑู ุงููุฑูุฏ
- `description` (Long text) - ุงููุตู
- `content` (Rich text) - ุงููุญุชูู ุงููุงูู
- `excerpt` (Text) - ููุฎุต ุงููุญุงุถุฑุฉ
- `type` (Enumeration) - ุงูููุน: lecture, lab, assignment
- `status` (Enumeration) - ุงูุญุงูุฉ: published, draft, archived, scheduled
- `duration` (Text) - ุงููุฏุฉ
- `views` (Number) - ุนุฏุฏ ุงููุดุงูุฏุงุช
- `likes` (Number) - ุนุฏุฏ ุงูุฅุนุฌุงุจุงุช
- `featured` (Boolean) - ูุญุงุถุฑุฉ ูููุฒุฉ
- `tags` (JSON) - ุงูุนูุงูุงุช
- `instructor` (Text) - ุงุณู ุงููุญุงุถุฑ
- `scheduledFor` (Date) - ุชุงุฑูุฎ ุฌุฏููุฉ (ุงุฎุชูุงุฑู)
- `imageUrl` (Text) - ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)
- `subject` (Relation - Many-to-One) - ุงุฑุชุจุงุท ุจุงููุงุฏุฉ

#### **Post (ููุงู ุงููุฏููุฉ)**

- `title` (Text) - ุนููุงู ุงูููุงู
- `slug` (UID based on title) - ุงููุนุฑู ุงููุฑูุฏ
- `content` (Rich text) - ุงููุญุชูู ุงููุงูู
- `excerpt` (Text) - ููุฎุต ุงูููุงู
- `author` (Text) - ุงุณู ุงููุงุชุจ
- `published` (Boolean) - ููุดูุฑ
- `tags` (JSON) - ุงูุนูุงูุงุช
- `imageUrl` (Text) - ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)

### 3. ุฅุนุฏุงุฏ ุงูุตูุงุญูุงุช

1. ุงุฐูุจ ุฅูู **Settings** โ **Users & Permissions Plugin** โ **Roles** โ **Public**
2. ุณูุญ ุจู:
   - `Article`: **find** ู **findOne**
   - `Material`: **find** ู **findOne**
   - `Post`: **find** ู **findOne**
3. ุงุญูุธ ุงูุชุบููุฑุงุช

### 4. ุงูุญุตูู ุนูู API Token (ุงุฎุชูุงุฑู)

ูููุตูู ุงูุขูู:

1. ุงุฐูุจ ุฅูู **Settings** โ **API Tokens**
2. ุงุถุบุท **Create new API Token**
3. ุงุฎุชุฑ **Read-only** ูููุดุฑ
4. ุงูุณุฎ ุงูุฑูุฒ ุงููููุฒ

## ๐ ุฑุจุท ุงููุดุฑูุน ุจู Strapi

### 1. ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุฃูุดุฆ ููู `.env.local` ูู ุฌุฐุฑ ุงููุดุฑูุน:

```env
# Strapi CMS Configuration
NEXT_PUBLIC_STRAPI_URL=https://your-strapi-url.com
STRAPI_API_TOKEN=your_api_token_here
```

### 2. ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงููุดุฑ

#### **ูููุดุฑ ุนูู Vercel:**

1. ุงุฐูุจ ุฅูู **Project Settings** โ **Environment Variables**
2. ุฃุถู ุงููุชุบูุฑุงุช:
   - `NEXT_PUBLIC_STRAPI_URL`
   - `STRAPI_API_TOKEN`

#### **ูููุดุฑ ุนูู Cloudflare Pages:**

1. ุงุฐูุจ ุฅูู **Settings** โ **Environment Variables**
2. ุฃุถู ุงููุชุบูุฑุงุช ูู **Production** ู **Preview**

### 3. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

ุดุบูู ุงููุดุฑูุน ูุญููุงู:

```bash
npm run dev
```

ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
- `http://localhost:3000/materials` - ูุนุฑุถ ุงูููุงุฏ
- `http://localhost:3000/materials/applied-physics` - ูุนุฑุถ ูุญุงุถุฑุงุช ูุงุฏุฉ ูุนููุฉ

ุชุญูู ูู Console ููุฃุฎุทุงุก ุฃู ุฑุณุงุฆู ูุฌุงุญ ุงูุงุชุตุงู.

## ๐ ุงูุชุดุบูู ูุน ุงูุญู ุงูุจุฏูู

ุฅุฐุง ูุงู Strapi ุบูุฑ ูุชุงุญ ุฃู ูู ูุชู ุฅุนุฏุงุฏู ุจุนุฏุ ุณูุนูู ุงููุดุฑูุน ุชููุงุฆูุงู ูุน ุงููุธุงู ุงูุญุงูู:

1. **ุงููุธุงู ุงูุญุงูู**: ูุณุชุฎุฏู `lib/articleDatabase.ts`
2. **Strapi ุบูุฑ ูุชุงุญ**: ูุนูุฏ ุชููุงุฆูุงู ูููุธุงู ุงูุญุงูู
3. **ูุง ูุญุชุงุฌ ูุฅุนุฏุงุฏ**: ูุนูู ูุจุงุดุฑุฉ

## ๐ ุงููุฌุฑุฉ ุงูุชุฏุฑูุฌูุฉ

### ุงููุฑุญูุฉ 1: ุงูุชุดุบูู ุงููุชูุงุฒู

- โ ุงููุธุงู ุงูุญุงูู ูุณุชูุฑ ูู ุงูุนูู
- โ Strapi ูุนูู ูู "read-only" ูููุฑุงุกุฉ ููุท
- โ ูููู ุฅุถุงูุฉ ูุญุชูู ุฌุฏูุฏ ูู Strapi ุจุฏูู ุชุฃุซูุฑ ุนูู ุงูููุฌูุฏ

### ุงููุฑุญูุฉ 2: ููู ุงูุจูุงูุงุช

ุงูุณุฎ ุงูุจูุงูุงุช ูู ุงููุธุงู ุงูุญุงูู ุฅูู Strapi:

```bash
# ููููู ุงุณุชุฎุฏุงู Strapi API ูุฅูุดุงุก ุงูุจูุงูุงุช
# ุฃู ุงุณุชุฎุฏุงู ูุงุฌูุฉ Strapi ูุฏููุงู
```

### ุงููุฑุญูุฉ 3: ุงูุชุจุฏูู ุงููุงูู

ุจุนุฏ ููู ุฌููุน ุงูุจูุงูุงุช:

1. ุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุจูุงูุงุช ููุฌูุฏุฉ ูู Strapi
2. ุงุฎุชุจุฑ ุฌููุน ุงูุตูุญุงุช ูุงููุธุงุฆู
3. ุงุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ (ุงุฎุชูุงุฑู)
4. ุญุฏูุซ ุงูุชูุซูู

## ๐๏ธ ูุธุงุฆู API ุงููุชููุฑุฉ

### ููููุงุฏ (Materials)

```typescript
import { getMaterials, getMaterialBySlug } from '@/lib/api'

// ุฌูุจ ุฌููุน ุงูููุงุฏ
const materials = await getMaterials()

// ุฌูุจ ูุงุฏุฉ ุจูุนุฑู ูุญุฏุฏ
const material = await getMaterialBySlug('applied-physics')
```

### ูููุญุงุถุฑุงุช (Articles)

```typescript
import { getArticles, getArticleBySlug, getArticleById } from '@/lib/api'

// ุฌูุจ ุฌููุน ุงููุญุงุถุฑุงุช
const articles = await getArticles()

// ุฌูุจ ูุญุงุถุฑุงุช ูุงุฏุฉ ูุนููุฉ
const physicsArticles = await getArticles({ 
  subjectId: 'applied-physics',
  status: 'published',
  limit: 10 
})

// ุฌูุจ ูุญุงุถุฑุฉ ุจูุนุฑู ูุญุฏุฏ
const article = await getArticleBySlug('introduction-to-physics')
```

### ููููุงูุงุช (Posts)

```typescript
import { getPosts, getPostBySlug } from '@/lib/api'

// ุฌูุจ ุฌููุน ุงูููุงูุงุช ุงูููุดูุฑุฉ
const posts = await getPosts({ published: true, limit: 10 })

// ุฌูุจ ููุงู ุจูุนุฑู ูุญุฏุฏ
const post = await getPostBySlug('welcome-post')
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุจูุงูุงุช ูู Strapi

**ุงูุญููู:**

1. **ุชุญูู ูู URL**: ุชุฃูุฏ ูู ุตุญุฉ `NEXT_PUBLIC_STRAPI_URL`
2. **ุชุญูู ูู ุงูุตูุงุญูุงุช**: ุชุฃูุฏ ูู ุชูุนูู `find` ูููุฌููุนุงุช
3. **ุชุญูู ูู CORS**: ุชุฃูุฏ ูู ุฅุถุงูุฉ domain ุงููุดุฑูุน ูู ุฅุนุฏุงุฏุงุช Strapi
4. **ุชุญูู ูู Token**: ุฅุฐุง ููุช ุชุณุชุฎุฏู tokenุ ุชุฃูุฏ ูู ุตุญุชู
5. **ุงูุญุต Console**: ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุงููุชุตูุญ

### ุงููุดููุฉ: ูุธูุฑ ุฎุทุฃ CORS

**ุงูุญู:**

ูู Strapiุ ุงุฐูุจ ุฅูู **Settings** โ **Server** โ **CORS**:

1. ุฃุถู domain ุงููุดุฑูุน (ูุซู: `https://cyber-tmsah.vercel.app`)
2. ุฃุถู `http://localhost:3000` ููุชุทููุฑ ุงููุญูู
3. ุงุญูุธ ุงูุชุบููุฑุงุช

### ุงููุดููุฉ: ุงูุจูุงูุงุช ุชุธูุฑ ูู ุงููุธุงู ุงูุญุงูู ููุท

**ุงูุชุญูู:**

ุงูุชุญ Developer Tools โ Network ูุงุจุญุซ ุนู requests ุฅูู Strapi.
- **ุฅุฐุง ูุง ุชูุฌุฏ requests**: ูุนูู ุฃู Strapi ุบูุฑ ููุนูู
- **ุฅุฐุง ูุงูุช failed**: ูุนูู ุฃู ููุงู ูุดููุฉ ูู ุงูุงุชุตุงู

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- [Strapi Documentation](https://docs.strapi.io)
- [Strapi API Reference](https://docs.strapi.io/dev-docs/api/rest)
- [Next.js Environment Variables](https://nextjs.org/docs/basic-features/environment-variables)

## ๐ค ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดููุฉุ ุงูุชุญ Issue ุนูู GitHub ูุน ุชูุงุตูู:
- ุฑุณุงูุฉ ุงูุฎุทุฃ
- ุฎุทูุงุช ุฅุนุงุฏุฉ ุงูุฅูุชุงุฌ
- ุฅุตุฏุงุฑุงุช Strapi ู Next.js
- ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ุจูุงุณุทุฉ: ZEYAD MOHAMED**

**ูููุดุฑูุน: Cyber TMSAH Platform**

