# ุฏููู ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช - Delete All Accounts Guide

## โ๏ธ ุชุญุฐูุฑ ููู

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช ุงููุณุฌูุฉ ูู ุงููููุน. **ุงุญุฐุฑ:** ูุฐุง ุงูุฅุฌุฑุงุก ูุง ูููู ุงูุชุฑุงุฌุน ุนูู!

---

## ๐ ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ

### ุงูุฎูุงุฑ 1: ุญุฐู ุฌููุน ุงูุทูุงุจ ููุท (ุงูุงุญุชูุงุธ ุจู Admin)
**ุงูุฃูุถู:** ูุฐุง ุงูุฎูุงุฑ ูุญุฐู ุฌููุน ุญุณุงุจุงุช ุงูุทูุงุจ ููุจูู ุนูู ุญุณุงุจ Admin.

### ุงูุฎูุงุฑ 2: ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช (ุจูุง ูู ุฐูู Admin)
**โ๏ธ ุฎุทูุฑ:** ูุฐุง ุงูุฎูุงุฑ ูุญุฐู ุฌููุน ุงูุญุณุงุจุงุช ุจูุง ูู ุฐูู Admin. ุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุญุณุงุจ Admin ุฌุฏูุฏ.

---

## ๐ง ููููุฉ ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช

### ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู Supabase SQL Editor (ููุตู ุจูุง)

1. **ุงูุชุญ Supabase Dashboard:**
   - ุงุฐูุจ ุฅูู [https://supabase.com/dashboard](https://supabase.com/dashboard)
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงูุชุญ SQL Editor:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุถุบุท ุนูู "SQL Editor"
   - ุงุถุบุท "New Query"

3. **ุงูุณุฎ ูุฃูุตู ุงูุณูุฑูุจุช:**
   ```sql
   -- ุญุฐู ุฌููุน ุงูุทูุงุจ ููุท (ุงูุงุญุชูุงุธ ุจู Admin)
   DELETE FROM users WHERE role = 'student';
   
   -- ุฅุนุงุฏุฉ ุชุนููู ุญุงูุฉ ุงูุชุณุฌูู ูู ูุงุฆูุฉ ุงูุชุญูู
   UPDATE verification_list 
   SET 
     is_registered = FALSE,
     registered_at = NULL,
     registered_by = NULL,
     updated_at = NOW()
   WHERE is_registered = TRUE;
   ```

4. **ุดุบูู ุงูุณูุฑูุจุช:**
   - ุงุถุบุท "Run" ุฃู `Ctrl+Enter`
   - ุชุฃูุฏ ูู ุงููุชูุฌุฉ

5. **ุงูุชุญูู ูู ุงูุญุฐู:**
   ```sql
   -- ุนุฑุถ ุงููุณุชุฎุฏููู ุงููุชุจููู
   SELECT 
     role,
     COUNT(*) as count
   FROM users
   GROUP BY role;
   ```

### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู ููู SQL

1. **ุงูุชุญ ููู:** `supabase/delete_all_users.sql`
2. **ุงูุณุฎ ุงูุณูุฑูุจุช ุงููุทููุจ**
3. **ุงูุตูู ูู Supabase SQL Editor**
4. **ุดุบููู**

---

## ๐ช ููููุฉ ุชุณุฌูู ุงูุฎุฑูุฌ ุจุดูู ุตุญูุญ

### ููู Admin:

1. **ูู ุตูุญุฉ Admin:**
   - ุงุฐูุจ ุฅูู `/admin`
   - ุงุถุบุท ุฒุฑ "Logout" ูู ุฃุนูู ุงูุตูุญุฉ
   - ุณูุชู ุญุฐู ุฌููุน ุงูู cookies ูุชูุฌููู ุฅูู `/login`

2. **ูุฏููุงู ูู ุงููุชุตูุญ:**
   - ุงูุชุญ Developer Tools (F12)
   - ุงุฐูุจ ุฅูู ุชุจููุจ "Application" ุฃู "Storage"
   - ุงุฐูุจ ุฅูู "Cookies"
   - ุงุญุฐู ุฌููุน ุงูู cookies:
     - `access_token`
     - `refresh_token`
     - `admin-token`

### ููุทุงูุจ:

1. **ูู ุตูุญุฉ Dashboard:**
   - ุงุฐูุจ ุฅูู `/dashboard`
   - ุงุถุบุท ุฒุฑ "Logout"
   - ุณูุชู ุญุฐู ุฌููุน ุงูู cookies ูุชูุฌููู ุฅูู `/login`

---

## ๐ ููุน ุชุณุฌูู ุงูุฏุฎูู ุงูุชููุงุฆู

ุชู ุชุนุทูู ุชุณุฌูู ุงูุฏุฎูู ุงูุชููุงุฆู ูู ุตูุญุฉ `/login`. ุงูุขู:

- โ ูู ูุชู ุชูุฌููู ุชููุงุฆูุงู ุฅุฐุง ูุงู ูุฏูู token
- โ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ูุฏููุงู ูู ูู ูุฑุฉ
- โ ููููู ุชุณุฌูู ุงูุฎุฑูุฌ ูู ุฃู ููุช

---

## ๐ ุฎุทูุงุช ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช ูุฅุนุงุฏุฉ ุงูุชุณุฌูู

### ุงูุฎุทูุฉ 1: ุชุณุฌูู ุงูุฎุฑูุฌ
1. ุณุฌูู ุงูุฎุฑูุฌ ูู ุฌููุน ุงูุญุณุงุจุงุช
2. ุงุญุฐู ุฌููุน ุงูู cookies ูู ุงููุชุตูุญ

### ุงูุฎุทูุฉ 2: ุญุฐู ุงูุญุณุงุจุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุงูุชุญ Supabase SQL Editor
2. ุดุบูู ุงูุณูุฑูุจุช:
   ```sql
   DELETE FROM users WHERE role = 'student';
   ```
3. ุชุญูู ูู ุงูุญุฐู

### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุนููู ูุงุฆูุฉ ุงูุชุญูู
1. ุดุบูู ุงูุณูุฑูุจุช:
   ```sql
   UPDATE verification_list 
   SET 
     is_registered = FALSE,
     registered_at = NULL,
     registered_by = NULL,
     updated_at = NOW()
   WHERE is_registered = TRUE;
   ```

### ุงูุฎุทูุฉ 4: ุฅุนุงุฏุฉ ุงูุชุณุฌูู
1. ุงุฐูุจ ุฅูู `/register`
2. ุณุฌูู ุญุณุงุจ ุฌุฏูุฏ
3. ุฃููู ุนูููุฉ ุงูุชุญูู

---

## ๐ก๏ธ ุงูุญูุงูุฉ ุจุนุฏ ุงูุญุฐู

ุจุนุฏ ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช:

- โ ุฌููุน ุงูุจูุงูุงุช ูุญุฐููุฉ ูู ุฌุฏูู `users`
- โ ุญุงูุฉ ุงูุชุณุฌูู ูู `verification_list` ุชู ุฅุนุงุฏุฉ ุชุนููููุง
- โ ูููู ููุทูุงุจ ุงูุชุณุฌูู ูุฌุฏุฏุงู
- โ ุจูุงูุงุช ุงูู 703 ุทุงูุจ ูุญููุธุฉ ูู `verification_list` (ุบูุฑ ูุญุฐููุฉ)

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุญุฐู Admin:**
   - ุฅุฐุง ุญุฐูุช ุญุณุงุจ Adminุ ุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
   - ููููู ุฅูุดุงุก ุญุณุงุจ Admin ุฌุฏูุฏ ูุจุงุดุฑุฉ ูู Supabase

2. **ุญูุธ ุงูุจูุงูุงุช:**
   - ุจูุงูุงุช ุงูู 703 ุทุงูุจ ูู `verification_list` **ูู ุชูุญุฐู**
   - ููุท ุญุงูุฉ ุงูุชุณุฌูู (`is_registered`) ุณุชูุนุงุฏ ุฅูู `FALSE`

3. **ุงููุณุฎ ุงูุงุญุชูุงุทู:**
   - Supabase ูุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ
   - ููููู ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช ูู ุฃู ููุช

---

## ๐ ุฅุนุงุฏุฉ ุฅูุดุงุก ุญุณุงุจ Admin

ุฅุฐุง ุญุฐูุช ุญุณุงุจ Adminุ ููููู ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ:

### ุงูุทุฑููุฉ 1: ูู Supabase SQL Editor

```sql
-- ุฅูุดุงุก ุญุณุงุจ Admin ุฌุฏูุฏ
INSERT INTO users (
  username,
  email,
  password_hash,
  full_name,
  role,
  is_active
) VALUES (
  'admin',  -- ุงุณู ุงููุณุชุฎุฏู
  'admin@example.com',  -- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  crypt('your_password_here', gen_salt('bf')),  -- ูููุฉ ุงููุฑูุฑ
  'Admin User',  -- ุงูุงุณู ุงููุงูู
  'admin',  -- ุงูุฏูุฑ
  TRUE  -- ูุดุท
);
```

**ููุงุญุธุฉ:** ุงุณุชุจุฏู:
- `'admin'` ุจุงุณู ุงููุณุชุฎุฏู ุงููุทููุจ
- `'admin@example.com'` ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงููุทููุจ
- `'your_password_here'` ุจูููุฉ ุงููุฑูุฑ ุงููุทููุจุฉ

### ุงูุทุฑููุฉ 2: ูู ูุงุฌูุฉ Supabase

1. ุงุฐูุจ ุฅูู Supabase Dashboard
2. ุงุฐูุจ ุฅูู "Table Editor"
3. ุงุฎุชุฑ ุฌุฏูู `users`
4. ุงุถุบุท "Insert row"
5. ุฃุฏุฎู ุงูุจูุงูุงุช ุงููุทููุจุฉ

---

## โ ุงูุฎูุงุตุฉ

- โ **ุญุฐู ุฌููุน ุงูุญุณุงุจุงุช:** ุงุณุชุฎุฏู SQL script ูู Supabase
- โ **ุชุณุฌูู ุงูุฎุฑูุฌ:** ุงุถุบุท ุฒุฑ Logout ุฃู ุงุญุฐู ุงูู cookies ูุฏููุงู
- โ **ููุน ุชุณุฌูู ุงูุฏุฎูู ุงูุชููุงุฆู:** ุชู ุชุนุทููู ูู ุตูุญุฉ `/login`
- โ **ุฅุนุงุฏุฉ ุงูุชุณุฌูู:** ูููู ููุทูุงุจ ุงูุชุณุฌูู ูุฌุฏุฏุงู ุจุนุฏ ุงูุญุฐู

---

**ุขุฎุฑ ุชุญุฏูุซ:** $(date)
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

